function showLoading(o){o.isLoading=!0,loadingContainer.addClass(loadingActiveClass),$(loadingContent).append(loadingElementClone)}function hideLoading(o){o.isLoading=!1,loadingContainer.removeClass(loadingActiveClass),loadingElementClone=$(loadingContent).find("img").clone(),setTimeout(function(){$(loadingContent).find("img").remove()},1500)}function closeAllInfoWindows(){for(var o=0;o<infoWindows.length;o++)infoWindows[o].close()}function setMarkers(o,n){for(var e=0;e<n.spots.length;e++){var a=n.spots[e].Name,t=n.spots[e].Latitude,i=n.spots[e].Longitude;if(""==t&&""==i)return;var s=new google.maps.LatLng(t,i),l=new google.maps.Marker({map:o,title:a,position:s}),g=new google.maps.InfoWindow;infoWindows.push(g);var d="<h5>"+a+"</h5>";google.maps.event.addListener(l,"click",function(n,e,a){return function(){closeAllInfoWindows(),a.setContent(e),a.open(o,n)}}(l,d,g))}}function getDistanceFromCurrentPosition(o,n,e){var a=new google.maps.LatLng(n,e),t=google.maps.geometry.spherical.computeDistanceBetween(o,a);return t=(t/1e3).toFixed(1)}function createGoogleMaps(o,n){console.log("creating map");var e=new google.maps.LatLng(55.861175,9.845964),a={center:e,zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP},t=new google.maps.Map(document.getElementById("map"),a);t.setCenter(n),new google.maps.Marker({position:n,map:t,title:"My Location",icon:{path:google.maps.SymbolPath.BACKWARD_CLOSED_ARROW,scale:4,fillColor:"#f8ae5f"}}),setMarkers(t,o),o.map=t}function stateChange(o){var n=o.name,e="tab-nav--hide",a="header-filter--hide";$("body").addClass("state--change"),setTimeout(function(){$("body").removeClass("state--change")},200),"list"==n?$("body").removeClass(a):$("body").addClass(a),"list"==n||"map"==n?$("body").removeClass(e):$("body").addClass(e)}var loadingContainer=$(".loading"),loadingContent=$(loadingContainer).find(".loading__content"),loadingElementClone="",loadingActiveClass="loading--active",infoWindows=[];